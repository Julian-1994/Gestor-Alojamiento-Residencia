<div class="bg-primary-subtle p-5 w-100 mb-5 shadow-lg rounded-4 header-admin">
  <div style="position: absolute; top: 12px; right: 32px; z-index: 10;" *ngIf="usuarioActual">
    <span style="font-size: 0.95rem;">
      Has iniciado sesión como: <strong>{{ usuarioActual.nombreUsuario }}</strong>
    </span>
    <button class="btn btn-outline-danger btn-sm ms-2 mt-1" (click)="cerrarSesion()">Cerrar sesión</button>
  </div>
  <div class="row align-items-center">
    <!-- Imagen a la izquierda -->
    <div class="col-2 text-start">
      <img src="./R (2).png" alt="Logo" width="130" height="130">
    </div>

    <!-- Título centrado -->
    <div class="col-8 text-center">
      <h1 class="m-0 mb-5">Panel de administración</h1>
      <h5 class="text-center">Gestor de Residencias</h5>
    </div>

    <!-- Columna vacía para equilibrar -->
    <div class="col-2"></div>
  </div>
</div>
<div class="container">
  <div class="container mb-4">
    <div class="row justify-content-center">
      <div class="col-md-10">
        <div class="alert alert-info text-center fs-5">
          Bienvenido al <strong>Panel de Administración de Residencias VitaSalud</strong>. 
          Desde aquí puedes gestionar reservas, personas, habitaciones, establecimientos y usuarios de forma centralizada y sencilla.
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-center mb-4">
    <nav class="nav nav-tabs">
      <a class="nav-link" [class.active]="mostrarReservas" (click)="mostrarEntidad('reservas')">Reservas</a>
      <a class="nav-link" [class.active]="mostrarPersonas" (click)="mostrarEntidad('personas')">Personas</a>
      <a class="nav-link" [class.active]="mostrarHabitaciones" (click)="mostrarEntidad('habitaciones')">Habitaciones</a>
      <a class="nav-link" [class.active]="mostrarEstablecimientos" (click)="mostrarEntidad('establecimientos')">Establecimientos</a>
      <a class="nav-link" [class.active]="mostrarUsuarios" (click)="mostrarEntidad('usuarios')">Usuarios</a>
    </nav>
  </div>

  <!-- Tabla Reservas -->
  <div *ngIf="mostrarReservas" class="mb-5">
    <app-reserva [reservas]="reservas" [personas]="personas" [establecimientos]="establecimientos" [habitaciones]="habitaciones" [habitacionesFiltradasPorEstablecimiento]="habitacionesFiltradasPorEstablecimiento" [filtroReservas]="filtroReservas" [reservasFiltradas]="reservasFiltradas" [buscandoReservas]="buscandoReservas" [pacienteSeleccionado]="pacienteSeleccionado" [editandoEntidad]="editandoEntidad" [esNuevo]="esNuevo"></app-reserva>
  </div>

  <!-- Tabla Personas -->
  <div *ngIf="mostrarPersonas" class="mb-5">
    <app-persona [personas]="personas" [filtroPersonas]="filtroPersonas" [personasFiltradas]="personasFiltradas" [buscandoPersonas]="buscandoPersonas" [editandoEntidad]="editandoEntidad" [esNuevo]="esNuevo"></app-persona>
  </div>

  <!-- Tabla Habitaciones -->
  <div *ngIf="mostrarHabitaciones" class="mb-5">
    <app-habitacion [habitaciones]="habitaciones" [establecimientos]="establecimientos" [reservas]="reservas" [filtroHabitaciones]="filtroHabitaciones" [habitacionesFiltradas]="habitacionesFiltradas" [buscandoHabitaciones]="buscandoHabitaciones" [editandoEntidad]="editandoEntidad" [esNuevo]="esNuevo" [habitacionesDisponibilidad]="habitacionesDisponibilidad" [fechaDisponibilidadInicio]="fechaDisponibilidadInicio" [fechaDisponibilidadFin]="fechaDisponibilidadFin" [establecimientoDisponibilidadId]="establecimientoDisponibilidadId"></app-habitacion>
  </div>

  <!-- Tabla Establecimientos -->
  <div *ngIf="mostrarEstablecimientos" class="mb-5">
    <app-establecimiento [establecimientos]="establecimientos" [filtroEstablecimientos]="filtroEstablecimientos" [establecimientosFiltrados]="establecimientosFiltrados" [buscandoEstablecimientos]="buscandoEstablecimientos" [editandoEntidad]="editandoEntidad" [esNuevo]="esNuevo"></app-establecimiento>
  </div>

  <!-- Tabla Usuarios -->
  <div *ngIf="mostrarUsuarios" class="mb-5">
    <app-usuario [usuarios]="usuarios" [filtroUsuarios]="filtroUsuarios" [usuariosFiltrados]="usuariosFiltrados" [buscandoUsuarios]="buscandoUsuarios" [editandoEntidad]="editandoEntidad" [esNuevo]="esNuevo"></app-usuario>
  </div>
</div>